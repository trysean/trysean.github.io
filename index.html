<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Syst√®me de D√©tection d'Intrusions ‚Äî Architecture</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600;700&family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,600;1,300&display=swap');

  :root {
    --bg: #0a0e1a;
    --surface: #111827;
    --border: #1e293b;
    --accent1: #00e5ff;
    --accent2: #7c3aed;
    --accent3: #10b981;
    --accent4: #f59e0b;
    --danger: #ef4444;
    --text: #e2e8f0;
    --muted: #64748b;
    --font-mono: 'IBM Plex Mono', monospace;
    --font-sans: 'IBM Plex Sans', sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font-sans);
    min-height: 100vh;
    padding: 32px 24px;
    overflow-x: auto;
  }

  .page-title {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.2em;
    color: var(--muted);
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .page-subtitle {
    font-size: 22px;
    font-weight: 300;
    color: var(--text);
    margin-bottom: 40px;
    letter-spacing: -0.02em;
  }

  .page-subtitle span {
    font-weight: 600;
    color: var(--accent1);
  }

  /* Main diagram container */
  .diagram {
    display: flex;
    align-items: stretch;
    gap: 0;
    min-width: 1200px;
  }

  /* Arrow between blocks */
  .arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: 52px;
    position: relative;
    z-index: 10;
  }

  .arrow-inner {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
  }

  .arrow-line {
    width: 32px;
    height: 2px;
    background: linear-gradient(90deg, var(--border), var(--muted));
    position: relative;
  }

  .arrow-line::after {
    content: '';
    position: absolute;
    right: -6px;
    top: -4px;
    border-left: 7px solid var(--muted);
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
  }

  .arrow-label {
    font-family: var(--font-mono);
    font-size: 8px;
    color: var(--muted);
    text-align: center;
    letter-spacing: 0.05em;
  }

  /* Block */
  .block {
    flex: 1;
    border-radius: 12px;
    padding: 20px 18px;
    position: relative;
    border: 1px solid var(--border);
    background: var(--surface);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    gap: 14px;
    min-width: 260px;
  }

  .block::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    border-radius: 12px 12px 0 0;
  }

  .block-1::before { background: var(--accent1); box-shadow: 0 0 12px var(--accent1); }
  .block-2::before { background: var(--accent2); box-shadow: 0 0 12px var(--accent2); }
  .block-3::before { background: var(--accent3); box-shadow: 0 0 12px var(--accent3); }
  .block-4::before { background: var(--accent4); box-shadow: 0 0 12px var(--accent4); }

  .block-header {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .block-num {
    font-family: var(--font-mono);
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 0.2em;
    opacity: 0.6;
    text-transform: uppercase;
  }

  .block-1 .block-num { color: var(--accent1); }
  .block-2 .block-num { color: var(--accent2); }
  .block-3 .block-num { color: var(--accent3); }
  .block-4 .block-num { color: var(--accent4); }

  .block-title {
    font-size: 13px;
    font-weight: 600;
    color: var(--text);
    line-height: 1.3;
  }

  .block-subtitle {
    font-family: var(--font-mono);
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-top: 1px;
  }

  /* Sub-modules */
  .submodule {
    border-radius: 8px;
    padding: 12px 14px;
    border: 1px solid;
    position: relative;
    background: rgba(0,0,0,0.3);
  }

  .submodule-title {
    font-family: var(--font-mono);
    font-size: 10px;
    font-weight: 700;
    margin-bottom: 6px;
    letter-spacing: 0.05em;
  }

  .submodule-body {
    font-size: 11px;
    color: #94a3b8;
    line-height: 1.5;
  }

  /* Block 1 colors */
  .block-1 .submodule { border-color: rgba(0,229,255,0.2); }
  .block-1 .submodule-title { color: var(--accent1); }

  /* Block 2 colors */
  .block-2 .submodule { border-color: rgba(124,58,237,0.25); }
  .block-2 .submodule-title { color: #a78bfa; }

  /* Block 3 colors */
  .block-3 .submodule { border-color: rgba(16,185,129,0.2); }
  .block-3 .submodule-title { color: var(--accent3); }

  /* Block 4 colors */
  .block-4 .submodule { border-color: rgba(245,158,11,0.2); }
  .block-4 .submodule-title { color: var(--accent4); }

  /* Internal arrows (vertical) */
  .v-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2px 0;
    color: var(--muted);
    font-size: 14px;
  }

  /* Output node */
  .output-node {
    border-radius: 8px;
    padding: 10px 12px;
    text-align: center;
    font-family: var(--font-mono);
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.06em;
  }

  .output-alert {
    background: rgba(239,68,68,0.12);
    border: 1px solid rgba(239,68,68,0.4);
    color: #fca5a5;
  }

  .output-proof {
    background: rgba(245,158,11,0.08);
    border: 1px solid rgba(245,158,11,0.3);
    color: #fcd34d;
    font-size: 9.5px;
    text-align: left;
    line-height: 1.6;
  }

  /* Graph visual */
  .graph-svg {
    display: block;
    margin: 6px auto;
  }

  /* Branch visual */
  .branch-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .branch {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .branch-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .branch-text {
    font-size: 11px;
    color: #94a3b8;
  }

  /* SSM scan visual */
  .ssm-bars {
    display: flex;
    gap: 2px;
    align-items: flex-end;
    height: 28px;
    padding: 4px 0;
  }

  .ssm-bar {
    flex: 1;
    border-radius: 2px 2px 0 0;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
  }

  .tag {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: 9px;
    padding: 2px 7px;
    border-radius: 4px;
    margin: 2px 2px 0 0;
    font-weight: 600;
    letter-spacing: 0.05em;
  }

  .tag-cyan { background: rgba(0,229,255,0.1); color: var(--accent1); border: 1px solid rgba(0,229,255,0.25); }
  .tag-violet { background: rgba(124,58,237,0.12); color: #a78bfa; border: 1px solid rgba(124,58,237,0.3); }
  .tag-green { background: rgba(16,185,129,0.1); color: var(--accent3); border: 1px solid rgba(16,185,129,0.25); }
  .tag-amber { background: rgba(245,158,11,0.1); color: var(--accent4); border: 1px solid rgba(245,158,11,0.25); }
  .tag-red { background: rgba(239,68,68,0.1); color: #fca5a5; border: 1px solid rgba(239,68,68,0.25); }

  .divider {
    height: 1px;
    background: var(--border);
    margin: 2px 0;
  }

  /* Output vector badge */
  .vector-badge {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 3px;
    background: rgba(0,0,0,0.4);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 8px;
    margin-top: 2px;
  }

  .vec-cell {
    width: 14px;
    height: 30px;
    border-radius: 3px;
  }

  .caption {
    font-family: var(--font-mono);
    font-size: 9px;
    color: var(--muted);
    text-align: center;
    margin-top: 4px;
    letter-spacing: 0.07em;
  }

  /* Legend bar */
  .legend {
    display: flex;
    gap: 20px;
    margin-top: 28px;
    flex-wrap: wrap;
    padding-top: 20px;
    border-top: 1px solid var(--border);
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 7px;
    font-size: 11px;
    color: var(--muted);
    font-family: var(--font-mono);
  }

  .legend-dot {
    width: 10px;
    height: 10px;
    border-radius: 2px;
    flex-shrink: 0;
  }
</style>
</head>
<body>

<div class="page-title">Architecture Syst√®me ¬∑ D√©tection d'Intrusions R√©seau</div>
<div class="page-subtitle">Graphe Spatio-Temporel + <span>Mamba SSM</span> + Contrastive Open-Set + Neuro-Symbolic</div>

<div class="diagram">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOCK 1 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="block block-1">
    <div class="block-header">
      <div class="block-num">Bloc 01 ¬∑ Data Level</div>
      <div class="block-title">Ingestion &amp;<br>Pr√©traitement</div>
      <div class="block-subtitle">Network Packet Stream</div>
    </div>

    <!-- Raw packets -->
    <div class="submodule">
      <div class="submodule-title">üì° Flux de Paquets Bruts</div>
      <div class="submodule-body">
        <div class="ssm-bars">
          <div class="ssm-bar" style="height:60%;background:#00e5ff33;animation-delay:0s"></div>
          <div class="ssm-bar" style="height:90%;background:#00e5ff55;animation-delay:0.1s"></div>
          <div class="ssm-bar" style="height:40%;background:#00e5ff33;animation-delay:0.2s"></div>
          <div class="ssm-bar" style="height:75%;background:#00e5ff44;animation-delay:0.3s"></div>
          <div class="ssm-bar" style="height:55%;background:#00e5ff33;animation-delay:0.4s"></div>
          <div class="ssm-bar" style="height:100%;background:#00e5ff66;animation-delay:0.5s"></div>
          <div class="ssm-bar" style="height:30%;background:#00e5ff22;animation-delay:0.6s"></div>
          <div class="ssm-bar" style="height:80%;background:#00e5ff44;animation-delay:0.7s"></div>
        </div>
        <span class="tag tag-cyan">SYN</span><span class="tag tag-cyan">UDP</span><span class="tag tag-cyan">ICMP</span><span class="tag tag-red">ANOMALY</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì</div>

    <!-- VAE-GAN -->
    <div class="submodule">
      <div class="submodule-title">üî¨ VAE-GAN Augmentation</div>
      <div class="submodule-body">
        G√©n√©ration de paquets synth√©tiques pour √©quilibrer les classes minoritaires (Zero-Day, rare attacks).
        <br><br>
        <span class="tag tag-cyan">Encoder z~q(z|x)</span>
        <span class="tag tag-cyan">Decoder G(z)</span>
        <span class="tag tag-cyan">Discriminator D</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì</div>

    <!-- Graph output -->
    <div class="submodule">
      <div class="submodule-title">üï∏ Graphe Spatio-Temporel</div>
      <div class="submodule-body">

        <!-- SVG mini graph -->
        <svg class="graph-svg" width="180" height="80" viewBox="0 0 180 80">
          <defs>
            <marker id="arr" markerWidth="5" markerHeight="5" refX="4" refY="2.5" orient="auto">
              <path d="M0,0 L5,2.5 L0,5 Z" fill="#00e5ff88"/>
            </marker>
          </defs>
          <!-- Edges -->
          <line x1="30" y1="40" x2="90" y2="20" stroke="#00e5ff44" stroke-width="1.5" marker-end="url(#arr)"/>
          <line x1="30" y1="40" x2="90" y2="60" stroke="#00e5ff44" stroke-width="1.5" marker-end="url(#arr)"/>
          <line x1="90" y1="20" x2="150" y2="40" stroke="#00e5ff44" stroke-width="1.5" marker-end="url(#arr)"/>
          <line x1="90" y1="60" x2="150" y2="40" stroke="#00e5ff44" stroke-width="1.5" marker-end="url(#arr)"/>
          <line x1="90" y1="20" x2="90" y2="60" stroke="#00e5ff22" stroke-width="1" stroke-dasharray="3,3"/>
          <!-- Nodes -->
          <circle cx="30" cy="40" r="12" fill="#0a0e1a" stroke="#00e5ff" stroke-width="1.5"/>
          <text x="30" y="44" text-anchor="middle" fill="#00e5ff" font-size="7" font-family="monospace">IP‚ÇÅ</text>
          <circle cx="90" cy="20" r="12" fill="#0a0e1a" stroke="#00e5ff88" stroke-width="1.5"/>
          <text x="90" y="24" text-anchor="middle" fill="#00e5ff88" font-size="7" font-family="monospace">IP‚ÇÇ</text>
          <circle cx="90" cy="60" r="12" fill="#0a0e1a" stroke="#00e5ff88" stroke-width="1.5"/>
          <text x="90" y="64" text-anchor="middle" fill="#00e5ff88" font-size="7" font-family="monospace">IP‚ÇÉ</text>
          <circle cx="150" cy="40" r="12" fill="#0a0e1a" stroke="#ef4444" stroke-width="1.5"/>
          <text x="150" y="44" text-anchor="middle" fill="#ef4444" font-size="7" font-family="monospace">IP‚ÇÑ</text>
        </svg>

        <div class="caption" style="color:#00e5ff88">
          G‚Çú = (V‚Çú, E‚Çú) ‚Äî n≈ìuds: @IP ¬∑ ar√™tes: flux
        </div>
      </div>
    </div>
  </div>

  <!-- Arrow 1‚Üí2 -->
  <div class="arrow">
    <div class="arrow-inner">
      <div class="arrow-line"></div>
      <div class="arrow-label">G‚Çú</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOCK 2 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="block block-2">
    <div class="block-header">
      <div class="block-num">Bloc 02 ¬∑ Representation Learning</div>
      <div class="block-title">Encodeur<br>Spatio-Temporel</div>
      <div class="block-subtitle">Graph + State Space Model</div>
    </div>

    <!-- GraphSAGE -->
    <div class="submodule">
      <div class="submodule-title">üîó GraphSAGE Layer</div>
      <div class="submodule-body">
        Agr√©gation locale des voisins pour extraire la topologie du r√©seau de communication.
        <br><br>

        <!-- SVG aggregation -->
        <svg width="160" height="60" viewBox="0 0 160 60" class="graph-svg">
          <circle cx="80" cy="30" r="13" fill="#1e1b4b" stroke="#7c3aed" stroke-width="2"/>
          <text x="80" y="34" text-anchor="middle" fill="#a78bfa" font-size="8" font-family="monospace">AGG</text>
          <!-- Neighbor nodes -->
          <circle cx="22" cy="15" r="9" fill="#0a0e1a" stroke="#4c1d95" stroke-width="1.5"/>
          <text x="22" y="19" text-anchor="middle" fill="#7c3aed" font-size="7" font-family="monospace">N‚ÇÅ</text>
          <circle cx="138" cy="15" r="9" fill="#0a0e1a" stroke="#4c1d95" stroke-width="1.5"/>
          <text x="138" y="19" text-anchor="middle" fill="#7c3aed" font-size="7" font-family="monospace">N‚ÇÇ</text>
          <circle cx="22" cy="48" r="9" fill="#0a0e1a" stroke="#4c1d95" stroke-width="1.5"/>
          <text x="22" y="52" text-anchor="middle" fill="#7c3aed" font-size="7" font-family="monospace">N‚ÇÉ</text>
          <circle cx="138" cy="48" r="9" fill="#0a0e1a" stroke="#4c1d95" stroke-width="1.5"/>
          <text x="138" y="52" text-anchor="middle" fill="#7c3aed" font-size="7" font-family="monospace">N‚ÇÑ</text>
          <line x1="31" y1="19" x2="67" y2="27" stroke="#4c1d9588" stroke-width="1.2"/>
          <line x1="129" y1="19" x2="93" y2="27" stroke="#4c1d9588" stroke-width="1.2"/>
          <line x1="31" y1="45" x2="67" y2="33" stroke="#4c1d9588" stroke-width="1.2"/>
          <line x1="129" y1="45" x2="93" y2="33" stroke="#4c1d9588" stroke-width="1.2"/>
        </svg>
        <span class="tag tag-violet">h_v = œÉ(W¬∑CONCAT(h_v, MEAN(h_u)))</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì</div>

    <!-- Mamba SSM -->
    <div class="submodule">
      <div class="submodule-title">‚ö° Mamba SSM Block</div>
      <div class="submodule-body">
        Balayage s√©quentiel <em>lin√©aire</em> ‚Äî remplace l'attention quadratique du Transformer.
        <br><br>

        <!-- SSM scan visualization -->
        <svg width="160" height="38" viewBox="0 0 160 38" class="graph-svg">
          <!-- Timeline -->
          <rect x="5" y="14" width="150" height="10" rx="3" fill="#1e1b4b" stroke="#4c1d95" stroke-width="1"/>
          <!-- State cells -->
          <rect x="8" y="16" width="20" height="6" rx="2" fill="#7c3aed88"/>
          <rect x="34" y="16" width="20" height="6" rx="2" fill="#7c3aed66"/>
          <rect x="60" y="16" width="20" height="6" rx="2" fill="#7c3aed88"/>
          <rect x="86" y="16" width="20" height="6" rx="2" fill="#7c3aedaa"/>
          <rect x="112" y="16" width="20" height="6" rx="2" fill="#7c3aed66"/>
          <rect x="138" y="16" width="15" height="6" rx="2" fill="#a78bfa"/>
          <!-- Scan arrow -->
          <path d="M5,5 L155,5" stroke="#4c1d9544" stroke-width="1" stroke-dasharray="4,2"/>
          <polygon points="155,3 160,5 155,7" fill="#7c3aed"/>
          <text x="5" y="3" fill="#4c1d95" font-size="6" font-family="monospace">scan ‚Üí</text>
          <!-- State labels -->
          <text x="18" y="30" text-anchor="middle" fill="#4c1d95" font-size="6" font-family="monospace">t‚ÇÅ</text>
          <text x="44" y="30" text-anchor="middle" fill="#4c1d95" font-size="6" font-family="monospace">t‚ÇÇ</text>
          <text x="70" y="30" text-anchor="middle" fill="#4c1d95" font-size="6" font-family="monospace">t‚ÇÉ</text>
          <text x="96" y="30" text-anchor="middle" fill="#4c1d95" font-size="6" font-family="monospace">t‚ÇÑ</text>
          <text x="122" y="30" text-anchor="middle" fill="#4c1d95" font-size="6" font-family="monospace">t‚ÇÖ</text>
          <text x="145" y="30" text-anchor="middle" fill="#a78bfa" font-size="6" font-family="monospace">z‚Çú</text>
        </svg>
        <span class="tag tag-violet">O(N) complexity</span>
        <span class="tag tag-violet">Œî, A, B, C params</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì</div>

    <!-- Latent vector output -->
    <div class="vector-badge">
      <div class="vec-cell" style="background:#7c3aed;opacity:0.9"></div>
      <div class="vec-cell" style="background:#6d28d9;opacity:0.6"></div>
      <div class="vec-cell" style="background:#7c3aed;opacity:1.0"></div>
      <div class="vec-cell" style="background:#5b21b6;opacity:0.4"></div>
      <div class="vec-cell" style="background:#7c3aed;opacity:0.75"></div>
      <div class="vec-cell" style="background:#6d28d9;opacity:0.85"></div>
      <div class="vec-cell" style="background:#7c3aed;opacity:0.5"></div>
      <div class="vec-cell" style="background:#5b21b6;opacity:0.95"></div>
    </div>
    <div class="caption">z ‚àà ‚Ñù·µà ‚Äî vecteur latent dense</div>
  </div>

  <!-- Arrow 2‚Üí3 -->
  <div class="arrow">
    <div class="arrow-inner">
      <div class="arrow-line"></div>
      <div class="arrow-label">z</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOCK 3 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="block block-3">
    <div class="block-header">
      <div class="block-num">Bloc 03 ¬∑ Decision Engine</div>
      <div class="block-title">Moteur de<br>D√©cision</div>
      <div class="block-subtitle">Contrastive Open-Set Classifier</div>
    </div>

    <!-- Classifier input -->
    <div class="submodule">
      <div class="submodule-title">‚öñÔ∏è Seuillage Contrastif</div>
      <div class="submodule-body">
        Le vecteur z est compar√© aux prototypes de classes par distance cosinus dans l'espace contrastif.
        <br><br>
        <span class="tag tag-green">sim(z, c‚Çñ) = z¬∑c‚Çñ / ‚Äñz‚Äñ‚Äñc‚Çñ‚Äñ</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì bifurcation</div>

    <!-- Branch: Known attacks -->
    <div class="submodule">
      <div class="submodule-title">üéØ Classification Multi-Classes</div>
      <div class="submodule-body">
        Pour attaques <strong style="color:#10b981">connues</strong> ‚Äî softmax sur K classes.
        <br><br>
        <div class="branch-container">
          <div class="branch">
            <div class="branch-dot" style="background:#ef4444"></div>
            <div class="branch-text">DDoS / SYN Flood</div>
          </div>
          <div class="branch">
            <div class="branch-dot" style="background:#f97316"></div>
            <div class="branch-text">Port Scan / Probe</div>
          </div>
          <div class="branch">
            <div class="branch-dot" style="background:#eab308"></div>
            <div class="branch-text">Brute Force / Auth</div>
          </div>
          <div class="branch">
            <div class="branch-dot" style="background:#3b82f6"></div>
            <div class="branch-text">Exfiltration / C&amp;C</div>
          </div>
        </div>
        <br>
        <span class="tag tag-green">softmax(W¬∑z + b)</span>
        <span class="tag tag-green">argmax ‚Üí label</span>
      </div>
    </div>

    <div class="divider"></div>

    <!-- Branch: Zero-Day -->
    <div class="submodule" style="border-color:rgba(239,68,68,0.3)">
      <div class="submodule-title" style="color:#fca5a5">üö® Rejet de Densit√© ‚Äî Zero-Day</div>
      <div class="submodule-body">
        Si densit√© p(z) &lt; œÑ ‚Üí hors distribution. L'√©chantillon n'appartient √† aucune classe connue.
        <br><br>

        <!-- Density visualization -->
        <svg width="160" height="45" viewBox="0 0 160 45" class="graph-svg">
          <!-- Gaussian curve -->
          <path d="M5,40 C20,40 35,5 80,5 C125,5 140,40 155,40" fill="none" stroke="#10b98188" stroke-width="1.5"/>
          <path d="M5,40 C20,40 35,5 80,5 C125,5 140,40 155,40 L155,40 L5,40 Z" fill="#10b98115"/>
          <!-- Threshold line -->
          <line x1="5" y1="25" x2="155" y2="25" stroke="#ef444466" stroke-width="1" stroke-dasharray="3,2"/>
          <text x="157" y="28" fill="#ef4444" font-size="6" font-family="monospace">œÑ</text>
          <!-- In-distribution point -->
          <circle cx="80" cy="8" r="4" fill="#10b981"/>
          <text x="80" y="4" text-anchor="middle" fill="#10b981" font-size="6" font-family="monospace">z_known</text>
          <!-- OOD point -->
          <circle cx="140" cy="35" r="4" fill="#ef4444"/>
          <text x="140" y="44" text-anchor="middle" fill="#ef4444" font-size="6" font-family="monospace">z_ood</text>
        </svg>
        <span class="tag tag-red">p(z) &lt; œÑ ‚Üí REJECT</span>
        <span class="tag tag-red">Zero-Day detected</span>
      </div>
    </div>
  </div>

  <!-- Arrow 3‚Üí4 -->
  <div class="arrow">
    <div class="arrow-inner">
      <div class="arrow-line"></div>
      <div class="arrow-label">z + label</div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOCK 4 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="block block-4">
    <div class="block-header">
      <div class="block-num">Bloc 04 ¬∑ Explainability</div>
      <div class="block-title">Explicabilit√©<br>Neuro-Symbolique</div>
      <div class="block-subtitle">Logic Tensor Network (LTN)</div>
    </div>

    <!-- LTN Module -->
    <div class="submodule">
      <div class="submodule-title">üß† Logic Tensor Network</div>
      <div class="submodule-body">
        Le vecteur z alimente un r√©seau de neurones logiques. Les pr√©dicats sont r√©ifi√©s comme tenseurs diff√©rentiables.
        <br><br>

        <!-- LTN diagram -->
        <svg width="160" height="58" viewBox="0 0 160 58" class="graph-svg">
          <!-- Input z -->
          <rect x="2" y="20" width="28" height="18" rx="3" fill="#1c1917" stroke="#d97706" stroke-width="1"/>
          <text x="16" y="32" text-anchor="middle" fill="#fcd34d" font-size="8" font-family="monospace">z</text>
          <!-- Layers -->
          <rect x="38" y="10" width="22" height="38" rx="3" fill="#1c1917" stroke="#92400e" stroke-width="1"/>
          <circle cx="49" cy="20" r="4" fill="#d97706"/>
          <circle cx="49" cy="30" r="4" fill="#b45309"/>
          <circle cx="49" cy="40" r="4" fill="#d97706"/>
          <rect x="68" y="16" width="22" height="26" rx="3" fill="#1c1917" stroke="#92400e" stroke-width="1"/>
          <circle cx="79" cy="24" r="4" fill="#f59e0b"/>
          <circle cx="79" cy="34" r="4" fill="#d97706"/>
          <!-- Logic output -->
          <rect x="98" y="14" width="58" height="30" rx="4" fill="#1c1917" stroke="#f59e0b" stroke-width="1.5"/>
          <text x="127" y="27" text-anchor="middle" fill="#fcd34d" font-size="7" font-family="monospace">‚àÄx P(x)</text>
          <text x="127" y="37" text-anchor="middle" fill="#f59e0b" font-size="6.5" font-family="monospace">A‚àßB ‚Üí C</text>
          <!-- Arrows -->
          <line x1="30" y1="29" x2="38" y2="29" stroke="#78350f" stroke-width="1.2"/>
          <line x1="60" y1="29" x2="68" y2="29" stroke="#78350f" stroke-width="1.2"/>
          <line x1="90" y1="29" x2="98" y2="29" stroke="#78350f" stroke-width="1.2"/>
          <!-- Satisfaction score -->
          <text x="127" y="54" text-anchor="middle" fill="#92400e" font-size="7" font-family="monospace">sat ‚àà [0,1]</text>
        </svg>
        <span class="tag tag-amber">Fuzzy Logic ¬∑ Grounded Predicates</span>
      </div>
    </div>

    <div class="v-arrow">‚Üì</div>

    <!-- Final outputs (dual) -->
    <div style="display:flex;flex-direction:column;gap:8px">

      <div class="output-node output-alert">
        üö® ALERTE ZERO-DAY D√âTECT√âE
        <br>
        <span style="font-size:8px;opacity:0.7;font-weight:400">Confiance: 0.94 ¬∑ Timestamp: T+0.3ms</span>
      </div>

      <div class="output-node output-proof">
        <div style="color:#f59e0b;margin-bottom:4px;font-weight:700">üìú ARBRE DE PREUVE SYMBOLIQUE</div>
        <div style="color:#fcd34d">IF  A: port_scan(IP‚ÇÑ) = True</div>
        <div style="color:#fcd34d">AND B: entropy(payload) &gt; Œ∏</div>
        <div style="color:#fcd34d">AND C: freq_anomaly(G‚Çú) = True</div>
        <div style="border-top:1px solid #78350f;margin:4px 0;padding-top:4px;color:#f59e0b">
          ‚Üí THEN zero_day_attack(IP‚ÇÑ)
        </div>
        <div style="color:#78350f;font-size:8px">sat(rule) = 0.91</div>
      </div>

    </div>
  </div>

</div>

<!-- Legend -->
<div class="legend">
  <div class="legend-item"><div class="legend-dot" style="background:#00e5ff"></div> Data &amp; Graph Layer</div>
  <div class="legend-item"><div class="legend-dot" style="background:#7c3aed"></div> Spatial-Temporal Encoder</div>
  <div class="legend-item"><div class="legend-dot" style="background:#10b981"></div> Decision &amp; Classification</div>
  <div class="legend-item"><div class="legend-dot" style="background:#f59e0b"></div> Neuro-Symbolic Explainability</div>
  <div class="legend-item"><div class="legend-dot" style="background:#ef4444"></div> Zero-Day / OOD Detection</div>
  <div style="margin-left:auto;font-family:monospace;font-size:9px;color:#1e293b">
    G‚Çú=(V‚Çú,E‚Çú) ‚Üí GraphSAGE ‚Üí Mamba ‚Üí z ‚Üí Open-Set ‚Üí LTN ‚Üí {label, proof}
  </div>
</div>

</body>
</html>
